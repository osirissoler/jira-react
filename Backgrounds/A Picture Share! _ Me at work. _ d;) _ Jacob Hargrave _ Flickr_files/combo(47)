YUI.add("hermes-lang-blurb",function(o,r){o.Intl.add("hermes/blurb","en-US",{ALL_NEW_BOOKS_HEADER:["All-new photos books from Blurb"],ALL_NEW_BOOKS_SUBHEADER_PRO:["Get $35 off your Blurb® purchase.* Use your discount code below at checkout."],ALL_NEW_BOOKS_SUBHEADER_NONPRO:['Get $35 off your Blurb® purchase.* <a href="',"${url}",'">Learn more</a>'],GET_DISCOUNT_WITH_PRO:["Get $35 off with your Flickr Pro subscription"],PRINT_WITH_BLURB:["Print your photo books with Blurb®."],ASTERIX:["* With minimum purchase of $70. Offer available for 1-year and 2-year Flickr Pro subscriptions. Discount available once per year."],ASTERIX_V2:["* Get $35 dollars off your Photo Book purchase up to 4 times a year! Valid for orders of $70 or more when you're on an annual Flickr Pro plan."],ASTERIX_MINIMUM:["* With minimum purchase of $70."],ALL_NEW_BOOKS_SUBHEADER_2:["Use your discount code below at checkout."],LAUNCH_BlURB_BOOKIFY:["Launch Blurb Bookify"],CUSTOMIZE_BOOK_HEADER:["Customize your book."],MAKE_A_BOOK:["Make a book"],COLUMNS_CREATE:["Create."],COLUMNS_CREATE_TEXT:["Connect your Flickr account to Blurb and start your book. You can easily import your photostream and albums into the book layout."],COLUMNS_PRINT:["Print."],COLUMNS_PRINT_TEXT:["Get all the options you need for your project, including digital output, print on demand, and offset printing. Plus, choose from a wide range of paper options. It’s all up to you."],COLUMNS_SELL:["Sell."],COLUMNS_SELL_TEXT:['Choose from a range of distribution options, including Amazon, Ingram, and the Blurb Bookstore. As a Flickr Pro, you can now promote your books on Flickr as well. <a href="',"${url}",'">Learn more</a>'],COLUMNS_CUSTOMIZE:["Customize."],COLUMNS_CUSTOMIZE_TEXT:["Take advantage of Blurb’s many sizes, paper choices, and styles. Unleash your creativity with captions, text, and countless photo layouts."],ANOTHER_STUNNING_SHOT:["Another stunning photo shoot!"],WANT_MORE_CREATIVE:["Want more creative control?"],USE_FAVORITE_TOOLS:["Use your favorite Adobe & PDF tools."],CREATIVE_TEXT:['Lay out your book, magazine, or ebook with your favorite tools. Get easy print setup with Blurb’s plug-in for Adobe InDesign and Adobe Lightroom Book Module. Or, design with any app and use Blurb’s PDF uploader. <a href="',"${url}",'">Learn more</a>'],BLURB_SHARE:["Share."],BLURB_SHARE_TEXT:["Once you receive your Blurb book, share it with the Flickr community. Join the official Blurb Books group on Flickr and inspire others with your creations."],BLURB_BULLET_LIST_ONE:["1"],BLURB_BULLET_LIST_SECOND:["2"],BLURB_BULLET_LIST_THIRD:["3"],UPGRADE_TO_PRO_BTN:["Upgrade to Pro"],UPGRADE_YOUR_PRO_BTN:["Upgrade your Pro"],COPY_BLURB_CODE:["Copy"],COPY_COPIED:["Copied!"],PHOTO_BOOKS:["Photo Books"],PRO_BLURB_SECTION_TEXT:["Use Blurb's free book-creation tools for complete creative control. Get $35 off your first Blurb purchase with a yearly Pro subscription (minimum $70 Blurb purchase)."],BLURB_PRODUCT_PROMO_DESCRIPTION_TEXT:["Use Blurb's free book-creation tools for complete creative control. Get $35 dollars off your Photo Book purchase up to 4 times a year. Valid for orders of $70 or more."]})},"@VERSION@",{requires:["intl"]});YUI.add("hermes-lang-thanks",function(a,e){a.Intl.add("hermes/thanks","en-US",{THANK_YOU_USER:['<span class="thank-you-text">Thank you,</span> <span class="thank-you-name">',"${displayName}","</span>"],THANK_YOU_MESSAGE:["You've helped make Flickr a special place for so many years. We hope to delight you for many more."],PS_HAVE_A_WISH:["P.S. — Have a wish for Flickr?"],LET_US_KNOW:["Let us know!"]})},"@VERSION@",{requires:["intl"]});YUI.add("hermes-template-adobe-analytics",function(e,a){var n=e.Template.Handlebars.revive({1:function(e,a,n,l,s){var r,t=null!=a?a:{},i=n.helperMissing,c=e.escapeExpression;return'<script nonce="'+c("function"==typeof(r=null!=(r=n.cspNonce||(null!=a?a.cspNonce:a))?r:i)?r.call(t,{name:"cspNonce",hash:{},data:s}):r)+'" src="'+c("function"==typeof(r=null!=(r=n.adobeAnalyticsUrl||(null!=a?a.adobeAnalyticsUrl:a))?r:i)?r.call(t,{name:"adobeAnalyticsUrl",hash:{},data:s}):r)+'" async><\/script>\n'},compiler:[7,">= 4.0.0"],main:function(e,a,n,l,s){var r;return null!=(r=(n.isFlipped||a&&a.isFlipped||n.helperMissing).call(null!=a?a:{},"enable-adobe-analytics",{name:"isFlipped",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?r:""},useData:!0}),l={};e.Array.each([],function(a){var n=e.Template.get("hermes/"+a);n&&(l[a]=n)}),e.Template.register("hermes/adobe-analytics",function(a,s){return s=s||{},s.partials=s.partials?e.merge(l,s.partials):l,n(a,s)})},"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("hermes-template-footer-full",function(t,a){var e=t.Template.Handlebars.revive({1:function(t,a,e,l,s){return" sohp"},3:function(t,a,e,l,s){return'\t\t\t\t\t<li class="foot-li footer-company-item">\n\t\t\t\t\t\t<div class="foot-company">\n\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t'+t.escapeExpression((e.intlHTMLMessage||a&&a.intlHTMLMessage||e.helperMissing).call(null!=a?a:{},{name:"intlHTMLMessage",hash:{flickrUrl:"/",smugUrl:"https://www.smugmug.com/",intlName:"common.SMUG_FLICKR_FOOTER_ATTRIBUTION"},data:s}))+"\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</li>\n"},5:function(t,a,e,l,s){var n=null!=a?a:{},o=e.helperMissing,i=t.escapeExpression;return'\t\t\t\t<div class="foot-company">\n\t\t\t\t\t<span class="foot-attribution">\n\t\t\t\t\t\t'+i((e.intlHTMLMessage||a&&a.intlHTMLMessage||o).call(n,{name:"intlHTMLMessage",hash:{flickrUrl:"/",smugUrl:"https://www.smugmug.com/",intlName:"common.SMUG_FLICKR_FOOTER_ATTRIBUTION"},data:s}))+'\n\t\t\t\t\t</span>\n\t\t\t\t\t<span class="foot-message">\n\t\t\t\t\t\t'+i((e.intlMessage||a&&a.intlMessage||o).call(n,{name:"intlMessage",hash:{intlName:"common.CONNECTING_PEOPLE_THROUGH_PHOTOGRAPHY"},data:s}))+"\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n"},7:function(t,a,e,l,s){return'\t\t\t\t<div class="foot-company empty">\n\t\t\t\t\t&nbsp;\n\t\t\t\t</div>\n'},compiler:[7,">= 4.0.0"],main:function(t,a,e,l,s){var n,o=null!=a?a:{},i=e.helperMissing,r=t.escapeExpression,c=t.lambda;return'<div class="foot-banner-container"></div>\n\n<footer class="foot'+(null!=(n=e.if.call(o,null!=a?a.isSOHP:a,{name:"if",hash:{},fn:t.program(1,s,0),inverse:t.noop,data:s}))?n:"")+'">\n\t<div class="foot-container desktop-layout" role="contentinfo">\n\t\t<div class="foot-top-row">\n\t\t\t<ul class="foot-top-nav foot-nav-ul">\n\t\t\t\t<li class="foot-li"><a href="/about" data-track="footer-about">'+r((e.intlMessage||a&&a.intlMessage||i).call(o,{name:"intlMessage",hash:{intlName:"common.ABOUT"},data:s}))+'</a></li>\n\t\t\t\t<li class="foot-li"><a href="/jobs" data-track="footer-jobs">'+r((e.intlMessage||a&&a.intlMessage||i).call(o,{name:"intlMessage",hash:{intlName:"common.JOBS"},data:s}))+'</a></li>\n\t\t\t\t<li class="foot-li"><a href="//blog.flickr.net/en" data-track="footer-blog">'+r((e.intlMessage||a&&a.intlMessage||i).call(o,{name:"intlMessage",hash:{intlName:"common.BLOG"},data:s}))+'</a></li>\n\t\t\t\t<li class="foot-li"><a href="/services/developer" data-track="footer-developers">'+r((e.intlMessage||a&&a.intlMessage||i).call(o,{name:"intlMessage",hash:{intlName:"common.DEVELOPERS"},data:s}))+'</a></li>\n\t\t\t\t<li class="foot-li"><a href="/help/guidelines" data-track="footer-guidelines">'+r((e.intlMessage||a&&a.intlMessage||i).call(o,{name:"intlMessage",hash:{intlName:"common.GUIDELINES"},data:s}))+'</a></li>\n\t\t\t\t<li class="foot-li footer-privacy-item"><a href="/help/privacy" data-track="footer-privacy">'+r((e.intlMessage||a&&a.intlMessage||i).call(o,{name:"intlMessage",hash:{intlName:"common.PRIVACY"},data:s}))+'</a></li>\n\t\t\t\t<li class="foot-li footer-terms-item"><a href="/help/terms" data-track="footer-terms">'+r((e.intlMessage||a&&a.intlMessage||i).call(o,{name:"intlMessage",hash:{intlName:"common.TERMS"},data:s}))+'</a></li>\n\t\t\t\t<li class="foot-li footer-help-item"><a href="//help.flickr.com" data-track="footer-help">'+r((e.intlMessage||a&&a.intlMessage||i).call(o,{name:"intlMessage",hash:{intlName:"common.HELP"},data:s}))+'</a></li>\n\t\t\t\t<li class="foot-li footer-report-item"><a href="/abuse" data-track="footer-abuse">'+r((e.intlMessage||a&&a.intlMessage||i).call(o,{name:"intlMessage",hash:{intlName:"common.REPORT_ABUSE"},data:s}))+'</a></li>\n\t\t\t\t<li class="foot-li"><a href="/help/forum" data-track="footer-forum">'+r((e.intlMessage||a&&a.intlMessage||i).call(o,{name:"intlMessage",hash:{intlName:"common.HELP_FORUM"},data:s}))+'</a></li>\n\t\t\t\t<li class="foot-li lang-switcher">\n\t\t\t\t\t<a href="/change_language.gne?lang='+r(c(null!=(n=null!=a?a.selectedLang:a)?n.code:n,a))+"&csrf="+r(c(null!=(n=null!=a?a.selectedLang:a)?n.csrf:n,a))+'" data-track="footer-language">'+r(c(null!=(n=null!=a?a.selectedLang:a)?n.name:n,a))+'</a>\n\t\t\t\t\t<span class="arrow"></span>\n\t\t\t\t</li>\n'+(null!=(n=e.if.call(o,null!=a?a.showCompany:a,{name:"if",hash:{},fn:t.program(3,s,0),inverse:t.noop,data:s}))?n:"")+'\t\t\t\t<li class="foot-li footer-social-item">\n\t\t\t\t\t<div class="foot-social">\n\t\t\t\t\t\t<ul class="foot-nav-ul">\n\t\t\t\t\t\t\t<li><a target="_blank" href="https://www.facebook.com/flickr" aria-label="Facebook" data-track="footer-facebook">\n\t\t\t\t\t\t\t\t<svg class="ft-icon ft-facebook"><use xlink:href="#icon-facebook"></use></svg>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li><a target="_blank" href="https://twitter.com/flickr" aria-label="Twitter" data-track="footer-twitter">\n\t\t\t\t\t\t\t\t<svg class="ft-icon ft-twitter"><use xlink:href="#icon-twitter"></use></svg>\n\t\t\t\t\t\t\t</a></li>\n\t\t\t\t\t\t\t<li><a target="_blank" href="https://www.instagram.com/flickr/" aria-label="Instagram" data-track="footer-instagram">\n\t\t\t\t\t\t\t\t<svg class="ft-icon ft-instagram"><use xlink:href="#icon-instagram"></use></svg>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\t\t<div class="foot-bottom-row">\n\t\t\t<div class="foot-row-content">\n\t\t\t\t<ul class="foot-nav-ul">\n\t\t\t\t\t<li class="foot-li"><a href="/help/privacy" data-track="footer-privacy">'+r((e.intlMessage||a&&a.intlMessage||i).call(o,{name:"intlMessage",hash:{intlName:"common.PRIVACY"},data:s}))+'</a></li>\n\t\t\t\t\t<li class="foot-li"><a href="/help/terms" data-track="footer-terms">'+r((e.intlMessage||a&&a.intlMessage||i).call(o,{name:"intlMessage",hash:{intlName:"common.TERMS"},data:s}))+"</a></li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\n"+(null!=(n=e.if.call(o,null!=a?a.showCompany:a,{name:"if",hash:{},fn:t.program(5,s,0),inverse:t.program(7,s,0),data:s}))?n:"")+'\n\t\t\t<div class="foot-social">\n\t\t\t\t<ul class="foot-nav-ul">\n\t\t\t\t\t<li><a target="_blank" href="https://www.facebook.com/flickr" aria-label="Facebook" data-track="footer-facebook">\n\t\t\t\t\t\t<svg class="ft-icon ft-facebook"><use xlink:href="#icon-facebook"></use></svg>\n\t\t\t\t\t</a></li>\n\t\t\t\t\t<li><a target="_blank" href="https://twitter.com/flickr" aria-label="Twitter" data-track="footer-twitter">\n\t\t\t\t\t\t<svg class="ft-icon ft-twitter"><use xlink:href="#icon-twitter"></use></svg>\n\t\t\t\t\t</a></li>\n\t\t\t\t\t<li><a target="_blank" href="https://www.instagram.com/flickr/" aria-label="Instagram" data-track="footer-instagram">\n\t\t\t\t\t\t<svg class="ft-icon ft-instagram"><use xlink:href="#icon-instagram"></use></svg>\n\t\t\t\t\t</a></li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<div class="foot-container mobile-layout">\n\t\t<div class="foot-top-row">\n\t\t\t<ul class="foot-top-nav foot-nav-ul">\n\t\t\t\t<li class="foot-li"><a href="/about" data-track="footer-about">'+r((e.intlMessage||a&&a.intlMessage||i).call(o,{name:"intlMessage",hash:{intlName:"common.ABOUT"},data:s}))+'</a></li>\n\t\t\t\t<li class="foot-li"><a href="/jobs" data-track="footer-jobs">'+r((e.intlMessage||a&&a.intlMessage||i).call(o,{name:"intlMessage",hash:{intlName:"common.JOBS"},data:s}))+'</a></li>\n\t\t\t\t<li class="foot-li"><a href="//blog.flickr.net/en" data-track="footer-blog">'+r((e.intlMessage||a&&a.intlMessage||i).call(o,{name:"intlMessage",hash:{intlName:"common.BLOG"},data:s}))+'</a></li>\n\t\t\t\t<li class="foot-li"><a href="/services/developer" data-track="footer-developers">'+r((e.intlMessage||a&&a.intlMessage||i).call(o,{name:"intlMessage",hash:{intlName:"common.DEVELOPERS"},data:s}))+'</a></li>\n\t\t\t\t<li class="foot-li"><a href="/help/guidelines" data-track="footer-guidelines">'+r((e.intlMessage||a&&a.intlMessage||i).call(o,{name:"intlMessage",hash:{intlName:"common.GUIDELINES"},data:s}))+'</a></li>\n\t\t\t\t<li class="foot-li footer-report-item"><a href="/abuse" data-track="footer-abuse">'+r((e.intlMessage||a&&a.intlMessage||i).call(o,{name:"intlMessage",hash:{intlName:"common.REPORT_ABUSE"},data:s}))+'</a></li>\n\t\t\t\t<li class="foot-li footer-privacy-item"><a href="/help/privacy" data-track="footer-privacy">'+r((e.intlMessage||a&&a.intlMessage||i).call(o,{name:"intlMessage",hash:{intlName:"common.PRIVACY"},data:s}))+'</a></li>\n\t\t\t\t<li class="foot-li footer-terms-item"><a href="/help/terms" data-track="footer-terms">'+r((e.intlMessage||a&&a.intlMessage||i).call(o,{name:"intlMessage",hash:{intlName:"common.TERMS"},data:s}))+'</a></li>\n\t\t\t\t<li class="foot-li footer-help-item"><a href="//help.flickr.com" data-track="footer-help">'+r((e.intlMessage||a&&a.intlMessage||i).call(o,{name:"intlMessage",hash:{intlName:"common.HELP"},data:s}))+'</a></li>\n\t\t\t\t<li class="foot-li"><a href="/help/forum" data-track="footer-forum">'+r((e.intlMessage||a&&a.intlMessage||i).call(o,{name:"intlMessage",hash:{intlName:"common.HELP_FORUM"},data:s}))+'</a></li>\n\t\t\t\t<li class="foot-li lang-switcher">\n\t\t\t\t\t<a href="/change_language.gne?lang='+r(c(null!=(n=null!=a?a.selectedLang:a)?n.code:n,a))+"&csrf="+r(c(null!=(n=null!=a?a.selectedLang:a)?n.csrf:n,a))+'" data-track="footer-language">'+r(c(null!=(n=null!=a?a.selectedLang:a)?n.name:n,a))+'</a>\n\t\t\t\t\t<span class="arrow"></span>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\t\t<div class="foot-bottom-row">\n\t\t\t<div class="foot-row-content">\n\t\t\t\t<ul class="foot-nav-ul">\n\t\t\t\t\t<li class="foot-li"><a href="/help/privacy" data-track="footer-privacy">'+r((e.intlMessage||a&&a.intlMessage||i).call(o,{name:"intlMessage",hash:{intlName:"common.PRIVACY"},data:s}))+'</a></li>\n\t\t\t\t\t<li class="foot-li"><a href="/help/terms" data-track="footer-terms">'+r((e.intlMessage||a&&a.intlMessage||i).call(o,{name:"intlMessage",hash:{intlName:"common.TERMS"},data:s}))+"</a></li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\n"+(null!=(n=e.if.call(o,null!=a?a.showCompany:a,{name:"if",hash:{},fn:t.program(5,s,0),inverse:t.program(7,s,0),data:s}))?n:"")+'\n\t\t\t<div class="foot-social">\n\t\t\t\t<ul class="foot-nav-ul">\n\t\t\t\t\t<li><a target="_blank" href="https://www.facebook.com/flickr" aria-label="Facebook" data-track="footer-facebook">\n\t\t\t\t\t\t<svg class="ft-icon ft-facebook"><use xlink:href="#icon-facebook"></use></svg>\n\t\t\t\t\t</a></li>\n\t\t\t\t\t<li><a target="_blank" href="https://twitter.com/flickr" aria-label="Twitter" data-track="footer-twitter">\n\t\t\t\t\t\t<svg class="ft-icon ft-twitter"><use xlink:href="#icon-twitter"></use></svg>\n\t\t\t\t\t</a></li>\n\t\t\t\t\t<li><a target="_blank" href="https://www.instagram.com/flickr/" aria-label="Instagram" data-track="footer-instagram">\n\t\t\t\t\t\t<svg class="ft-icon ft-instagram"><use xlink:href="#icon-instagram"></use></svg>\n\t\t\t\t\t</a></li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</footer>\n\n'+(null!=(n=t.invokePartial(l["adobe-analytics"],a,{name:"adobe-analytics",data:s,helpers:e,partials:l,decorators:t.decorators}))?n:"")},usePartial:!0,useData:!0}),l={};t.Array.each(["adobe-analytics"],function(a){var e=t.Template.get("hermes/"+a);e&&(l[a]=e)}),t.Template.register("hermes/footer-full",function(a,s){return s=s||{},s.partials=s.partials?t.merge(l,s.partials):l,e(a,s)})},"@VERSION@",{requires:["template-base","handlebars-base","hermes-template-adobe-analytics"]});YUI.add("dropdown",function(e){"use strict";var t;t={css:{closed:"ui-dropdown-closed",shim:"ui-dropdown-shim",label:'span[data-action="toggle"]',items:"[data-value]",itemSelected:"ui-dropdown-item-selected",hasDialogArrow:"ui-dropdown-has-dialog-arrow",dialogArrow:"ui-dialog-arrow",useCheckMarks:"ui-dropdown-use-checkboxes"},options:{hasDialogArrow:!1,useCheckMarks:!1}},e.namespace("Views").Dropdown=e.Base.create("Dropdown",e.FlickrView,[],{initializer:function(e){!1!==e.activate&&this.activate()},activate:function(){var s,i=this,a=this.get("container");if(this.close(),this._items={},e.Lang.isArray(this.get("selected"))||this.set("selected",[this.get("selected")]),a.all(t.css.items).each(function(e){var t=e.getData();i._items[t.value]={text:t.text||'no data-text for "'+t.value+'"',sub:t.sub,node:e}}),this.labelEl=a.one(t.css.label),this.labelEl||(this.labelEl=e.Node.create('<span class="truncate" data-action="toggle" tabindex="0" aria-haspopup="true" aria-expanded="false" />'),a.insert(this.labelEl,0)),(s=this.get("staticLabel")||this.get("defaultLabel"))&&(!0===s?this.labelEl.set("text","set staticLabel/defaultLabel to a string, not `true`"):this.labelEl.set("text",s)),this.get("hasDialogArrow")&&!a.hasClass(t.css.hasDialogArrow)&&a.addClass(t.css.hasDialogArrow),a.hasClass(t.css.hasDialogArrow)&&(this.dialogArrowEl=a.one(t.css.dialogArrow),this.dialogArrowEl||(this.dialogArrowEl=e.Node.create('<span class="ui-dialog-arrow" />'),a.insert(this.dialogArrowEl,1))),this.get("useCheckMarks")&&!a.hasClass(t.css.useCheckMarks)&&a.addClass(t.css.useCheckMarks),this.select(),this.get("disabled"))return this.disable();this.attachEvents({":toggle":this.toggle.bind(this),":set":this.setData.bind(this)}),this.registerEventHandler(this.labelEl.on("key",this.toggle,"down:13",this)),this.registerEventHandler(this.labelEl.on("key",this.enterDropdown,"down:40",this));var l=this.labelEl.next("ul");l&&(this.registerEventHandler(l.on("keydown",this.keyboardNavigation,this)),this.registerEventHandler(l.delegate("key",function(e){document.activeElement.dataset&&this.setData(e,document.activeElement.dataset)},"down:13","li",this)))},setData:function(t,s){if(t.halt(),!this.get("multiSelect")&&!this.get("multiSelectSub")&&e.Array.indexOf(this.get("selected"),s.value)>=0)return this.close();this.select(s.value,s)},select:function(s,i,a){var l,n=this,h=s?this._items[s]:null,o=!0,c=[];h&&e.Array.indexOf(this.get("selected"),s)>=0&&(this.get("multiSelect")||this.get("multiSelectSub"))?(c=this.get("selected"),!h.sub&&this.get("multiSelect")&&c.length>this.get("minimumSelected")?(c.splice(e.Array.indexOf(this.get("selected"),s),1),o=!1):h.sub&&(c.splice(e.Array.indexOf(this.get("selected"),s),1),o=!1),this.set("selected",c)):h&&(h.sub?(c.push(s),this.get("selectParent")&&c.push(h.sub),e.Array.each(this.get("selected"),function(e){n._items[e].sub===h.sub?c.push(e):n.get("multiSelect")&&!n._items[e].sub&&c.push(e)})):this.get("multiSelect")?(c=this.get("selected")).push(s):c.push(s),this.set("selected",c)),a||this.close(),l={clicked:h?{text:h.text,value:s,sub:h.sub,itemEl:h.node,isChecked:o}:null,data:i,selections:c},this.fire("selected",l),this.update(s,l,t)},update:function(t,s,i){var a=this,l=s.clicked,n=this.get("selected"),h=this.get("defaultLabel")||"[Unable to select a default item]";this.get("staticLabel")||(this.get("labelFunction")?h=this.get("labelFunction").apply(this,[t]):l?h=s.data&&s.data.text&&s.data.text!==l.text?s.data.text:l.text:n.length>0&&a._items[n[0]]&&(h=a._items[n[0]].text),this.labelEl.set("textContent",h||"[!empty data-text!]")),this.get("container").all(i.css.items).removeClass(i.css.itemSelected),e.Array.each(n,function(e){a._items[e]&&a._items[e].node.addClass(i.css.itemSelected)})},toggle:function(e){e&&e.halt(),this._open?this.close(e):this.open(e)},open:function(e){var s=this.get("container"),i=0;this._open=!0,this.get("shouldCreateShim")&&this._shimUp(),s.removeClass(t.css.closed),this.get("autoSizeMenu")&&(i=parseInt(this.labelEl.getComputedStyle("width"),10))+30>parseInt(s.one("ul").getComputedStyle("width"),10)&&s.one("ul").setStyles({width:i+30}),e&&e.silent||this.fire("open",e);var a=s.one("span:first-child");a&&a.setAttribute("aria-expanded","true")},close:function(e){var s=this.get("container");e&&e.halt(),this._open=!1,this._shimUp(!1),this.fire("close",e),s.addClass(t.css.closed);var i=this.labelEl;i&&i.setAttribute("aria-expanded","false")},enterDropdown:function(e){e.preventDefault();var t=this.labelEl.next("ul").one("li");t&&t.focus()},keyboardNavigation:function(e){var t=e.keyCode,s=38===t||9===t&&e.shiftKey,i=40===t||9===t&&!e.shiftKey,a=e.target.ancestor("li",!0);s&&a&&a.previous("li")?(e.preventDefault(),this.focusOnPreviousItem(e)):i?(e.preventDefault(),a&&a.next("li")&&this.focusOnNextItem(e)):(27===t||s)&&(e.preventDefault(),this.labelEl&&(this.labelEl.focus(),this.close()))},focusOnPreviousItem:function(e){var t=e.target.ancestor("li",!0);if(t){var s=t.previous("li");s&&(s.one("a")?s.one("a").focus():s.focus())}},focusOnNextItem:function(e){var t=e.target.ancestor("li",!0);if(t){var s=t.next("li");s&&(s.one("a")?s.one("a").focus():s.focus())}},_shimUp:function(s){if(!1===s){if(!this._shim)return;return this._shim.detach("click").remove(),void(this._shim=null)}this._shim=e.Node.create("<div />"),this._shim.addClass(t.css.shim),this._shim.on("click",this.close.bind(this)),this.get("container").appendChild(this._shim)},disable:function(){var e=this.get("container");this.set("disabled",!0),this.close(),e.addClass(t.css.disabled),e.detach()},destructor:function(){this._shimUp(!1),this._items=null,this.labelEl=null,this.set("selected",null),this.detachAll()}},{ATTRS:{selected:{value:[]},disabled:{value:!1},hasDialogArrow:{value:!1},useCheckMarks:{value:!1},multiSelect:{value:!1},multiSelectSub:{value:!1},selectParent:{value:!0},minimumSelected:{value:0},staticLabel:{value:!1},defaultLabel:{value:!1},labelFunction:function(){},shouldCreateShim:{value:!0},autoSizeMenu:{value:!0}}})},"@VERSION@",{requires:["flickr-view"]});YUI.add("hermes-template-footer-banner",function(e,a){var n=e.Template.Handlebars.revive({1:function(e,a,n,t,r){return'<a href="https://flickr.kustomer.help/en_us/add-and-verify-a-new-email-address-ry6qhVBV" target="_blank">'+e.escapeExpression((n.intlMessage||a&&a.intlMessage||n.helperMissing).call(null!=a?a:{},{name:"intlMessage",hash:{intlName:"featured-banner.UPDATE_YOUR_EMAIL"},data:r}))+"</a>"},3:function(e,a,n,t,r){var s,l=null!=a?a:{},i=n.helperMissing,o=e.escapeExpression;return'<a href="'+o("function"==typeof(s=null!=(s=n.migrateUrl||(null!=a?a.migrateUrl:a))?s:i)?s.call(l,{name:"migrateUrl",hash:{},data:r}):s)+'">'+o((n.intlMessage||a&&a.intlMessage||i).call(l,{name:"intlMessage",hash:{intlName:"featured-banner.UPDATE_YOUR_LOGIN"},data:r}))+"</a>"},compiler:[7,">= 4.0.0"],main:function(e,a,n,t,r){var s,l=null!=a?a:{};return'<div class="footer-container login-update-banner">\n\t<div class="footer-content">\n\t\t<p>'+e.escapeExpression((n.intlMessage||a&&a.intlMessage||n.helperMissing).call(l,{name:"intlMessage",hash:{intlName:"featured-banner.CHANGES_ARE_COMING"},data:r}))+" "+(null!=(s=n.if.call(l,null!=a?a.hasInvalidEmail:a,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.program(3,r,0),data:r}))?s:"")+'.</p>\n\t\t<div class="button-container">\n\t\t</div>\n\n\t</div>\n</div>\n'},useData:!0}),t={};e.Array.each([],function(a){var n=e.Template.get("hermes/"+a);n&&(t[a]=n)}),e.Template.register("hermes/footer-banner",function(a,r){return r=r||{},r.partials=r.partials?e.merge(t,r.partials):t,n(a,r)})},"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("footer-banner-view",function(e,n){require("hermes-core/flog")(n);e.FlickrView.create(this.name,e.FlickrView,[],{langBundles:this.details.langBundles,loadState:function(){var n=this.appContext.getViewer(),t=[];return n.signedIn?(t.push(this.appContext.getModel("person-models",n.nsid).then(function(e){this.set("isCognitoUser",e.getValue("isCognitoUser")),this.set("hasInvalidEmail",e.getValue("hasInvalidEmail")),this.set("isPro",e.getValue("isPro"))}.bind(this))),t.push(this.appContext.getModel("person-profile-models",n.nsid).then(function(e){this.set("profileModel",e)}.bind(this))),e.Promise.all(t)):(this.set("isCognitoUser",0),e.Promise.resolve())},buildContainer:function(){return this.canSeeBanner()?(this.set("canSeeBanner",!0),this.setContainerWithTemplate("footer-banner",{hasInvalidEmail:this.get("hasInvalidEmail"),migrateUrl:e.config.flickr.cognito.root+e.config.flickr.cognito["migration-url"]})):(this.set("canSeeBanner",!1),this.setContainerHTML("")),this},activate:function(){var e=this.get("container");this.get("canSeeBanner")?e.addClass("with-footer-banner"):this.setContainerHTML(""),this.appContext.getCookie("cmb")&&this.appContext.removeCookie({cookieName:"cmb",path:"/"})},canSeeBanner:function(){var e=!1;return!this.appContext.getViewer().signedIn||this.get("isCognitoUser")||this.isSeeingRefencingBanners()||(e=!0),e},isSeeingRefencingBanners:function(){return!1}})},"@VERSION@",{requires:["flickr-view","user-limits-helper","hermes-template-footer-banner"],langBundles:["common","privacy","refencing-announcement","featured-banner"]});YUI.add("hermes-lang-privacy",function(e,i){e.Intl.add("hermes/privacy","en-US",{OATH_DATA_USAGE:["Flickr and Yahoo are now part of “Oath” and are members of the Verizon family of companies. Beginning 15 September 2017, we plan to share some user information within our new family."],SM:["Exciting news: Flickr is joining SmugMug!"],COOKIE_BANNER_TEXT:['This site uses cookies to improve your experience and to help show ads that are more relevant to your interests. By using this site, you agree to the use of cookies by Flickr and our partners as described in our <a target="_blank" href="',"${url}",'">cookie policy</a>.']})},"@VERSION@",{requires:["intl"]});