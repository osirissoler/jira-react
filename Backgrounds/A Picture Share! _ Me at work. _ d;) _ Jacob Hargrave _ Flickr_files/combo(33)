YUI.add("hermes-lang-relative-dates",function(_,T){_.Intl.add("hermes/relative-dates","en-US",{SECOND_LONG:["1 second"],SECONDS_LONG:["${time}"," seconds"],MINUTE_LONG:["1 min"],MINUTES_LONG:["${time}"," mins"],HOUR_LONG:["1 hour"],HOURS_LONG:["${time}"," hours"],DAY_LONG:["1 day"],DAYS_LONG:["${time}"," days"],MONTH_LONG:["1 month"],MONTHS_LONG:["${time}"," months"],YEAR_LONG:["1 year"],YEARS_LONG:["${time}"," years"],SECOND_SHORT:["1s"],SECONDS_SHORT:["${time}","s"],MINUTE_SHORT:["1m"],MINUTES_SHORT:["${time}","m"],HOUR_SHORT:["1h"],HOURS_SHORT:["${time}","h"],DAY_SHORT:["1d"],DAYS_SHORT:["${time}","d"],MONTH_SHORT:["1mo"],MONTHS_SHORT:["${time}","mo"],YEAR_SHORT:["1y"],YEARS_SHORT:["${time}","y"],SECOND_LONG_FUTURE:["in 1 second"],SECONDS_LONG_FUTURE:["in ","${time}"," seconds"],MINUTE_LONG_FUTURE:["in 1 min"],MINUTES_LONG_FUTURE:["in ","${time}"," mins"],HOUR_LONG_FUTURE:["in 1 hour"],HOURS_LONG_FUTURE:["in ","${time}"," hours"],DAY_LONG_FUTURE:["in 1 day"],DAYS_LONG_FUTURE:["in ","${time}"," days"],MONTH_LONG_FUTURE:["in 1 month"],MONTHS_LONG_FUTURE:["in ","${time}"," months"],YEAR_LONG_FUTURE:["in 1 year"],YEARS_LONG_FUTURE:["in ","${time}"," years"],FUTURE_SHORT_FUTURE:["in ","${time}"],SECOND_SHORT_FUTURE:["in 1s"],SECONDS_SHORT_FUTURE:["in ","${time}","s"],MINUTE_SHORT_FUTURE:["in 1m"],MINUTES_SHORT_FUTURE:["in ","${time}","m"],HOUR_SHORT_FUTURE:["in 1h"],HOURS_SHORT_FUTURE:["in ","${time}","h"],DAY_SHORT_FUTURE:["in 1d"],DAYS_SHORT_FUTURE:["in ","${time}","d"],MONTH_SHORT_FUTURE:["in 1mo"],MONTHS_SHORT_FUTURE:["in ","${time}","mo"],YEAR_SHORT_FUTURE:["in 1y"],YEARS_SHORT_FUTURE:["in ","${time}","y"],SECOND_LONG_PAST:["1 second ago"],SECONDS_LONG_PAST:["${time}"," seconds ago"],MINUTE_LONG_PAST:["1 min ago"],MINUTES_LONG_PAST:["${time}"," mins ago"],HOUR_LONG_PAST:["1 hour ago"],HOURS_LONG_PAST:["${time}"," hours ago"],DAY_LONG_PAST:["1 day ago"],DAYS_LONG_PAST:["${time}"," days ago"],MONTH_LONG_PAST:["1 month ago"],MONTHS_LONG_PAST:["${time}"," months ago"],YEAR_LONG_PAST:["1 year ago"],YEARS_LONG_PAST:["${time}"," years ago"],SECOND_SHORT_PAST:["1s ago"],SECONDS_SHORT_PAST:["${time}","s ago"],MINUTE_SHORT_PAST:["1m ago"],MINUTES_SHORT_PAST:["${time}","m ago"],HOUR_SHORT_PAST:["1h ago"],HOURS_SHORT_PAST:["${time}","h ago"],DAY_SHORT_PAST:["1d ago"],DAYS_SHORT_PAST:["${time}","d ago"],MONTH_SHORT_PAST:["1mo ago"],MONTHS_SHORT_PAST:["${time}","mo ago"],YEAR_SHORT_PAST:["1y ago"],YEARS_SHORT_PAST:["${time}","y ago"],NO_DATE:["-"]})},"@VERSION@",{requires:["intl"]});YUI.add("hermes-lang-notifications",function(e,o){e.Intl.add("hermes/notifications","en-US",{NOTIF_PHOTO_FAVE:["<a href='","${ownerUrl}","'>","${owner}","</a> faved your ",{type:"select",valueName:"mediaType",options:{photo:["photo"],video:["video"],other:["photo"]}},"."],NOTIF_PHOTO_FAVE_MULTI:[{type:"plural",valueName:"count",options:{one:["<a href='","${ownerUrl}","'>","${owner}","</a> and <a href='","${secondUrl}","'>","${secondOwner}","</a> faved your ",{type:"select",valueName:"mediaType",options:{photo:["photo"],video:["video"],other:["photo"]}}],other:["<a href='","${ownerUrl}","'>","${owner}","</a> and ","${count}"," others faved your ",{type:"select",valueName:"mediaType",options:{photo:["photo"],video:["video"],other:["photo"]}}]}},"."],NOTIF_PERSON_FOLLOW:["<a href='","${ownerUrl}","'>","${owner}","</a> is now following you!"],NOTIF_PHOTO_COMMENT_YOURS:['<a href="',"${personUrl}",'">',"${personName}","</a> commented on your ",{type:"select",valueName:"mediaType",options:{photo:["photo"],video:["video"],other:["photo"]}},"."],NOTIF_PHOTO_COMMENT_YOURS_MULTI:[{type:"plural",valueName:"count",options:{one:['<a href="',"${firstPersonUrl}",'">',"${firstPersonName}",'</a> and <a href="',"${secondPersonUrl}",'">',"${secondPersonName}","</a> commented on your ",{type:"select",valueName:"mediaType",options:{photo:["photo"],video:["video"],other:["photo"]}}],other:['<a href="',"${firstPersonUrl}",'">',"${firstPersonName}","</a> and ","${count}"," others commented on your ",{type:"select",valueName:"mediaType",options:{photo:["photo"],video:["video"],other:["photo"]}}]}},"."],NOTIF_PHOTO_COMMENT_OTHER:['<a href="',"${personUrl}",'">',"${personName}",'</a> commented on <a href="',"${ownerUrl}",'">',"${ownerName}","'s</a> ",{type:"select",valueName:"mediaType",options:{photo:["photo"],video:["video"],other:["photo"]}},"."],NOTIF_PHOTO_COMMENT_OTHER_MULTI:[{type:"plural",valueName:"count",options:{one:['<a href="',"${firstPersonUrl}",'">',"${firstPersonName}",'</a> and <a href="',"${secondPersonUrl}",'">',"${secondPersonName}",'</a> commented on <a href="',"${ownerUrl}",'">',"${ownerName}","'s</a> ",{type:"select",valueName:"mediaType",options:{photo:["photo"],video:["video"],other:["photo"]}}],other:['<a href="',"${firstPersonUrl}",'">',"${firstPersonName}","</a> and ","${count}",' others commented on <a href="',"${ownerUrl}",'">',"${ownerName}","'s</a> ",{type:"select",valueName:"mediaType",options:{photo:["photo"],video:["video"],other:["photo"]}}]}},"."],NOTIF_MENTION:['<a href="',"${personUrl}",'">',"${personName}","</a> mentioned you in a ",{type:"select",valueName:"mediaType",options:{photo:["photo"],video:["video"],other:["photo"]}},"."],NOTIF_MENTION_MULTI:[{type:"plural",valueName:"count",options:{one:['<a href="',"${personUrl}",'">',"${personName}",'</a> and <a href="',"${secondPersonUrl}",'">',"${secondPersonName}","</a>"],other:['<a href="',"${personUrl}",'">',"${personName}","</a> and ","${count}"," others"]}}," mentioned you in a ",{type:"select",valueName:"mediaType",options:{photo:["photo"],video:["video"],other:["photo"]}},"."],NOTIF_PHOTO_GROUP_INVITE:["<a href='","${ownerUrl}","'>","${owner}","</a> invited you to add your ",{type:"select",valueName:"mediaType",options:{photo:["photo"],video:["video"],other:["photo"]}}," to the group <a href='","${groupUrl}","'>","${groupName}","</a>."],NOTIF_PHOTO_GROUP_INVITE_MULTI:["You've been invited to add your ",{type:"select",valueName:"mediaType",options:{photo:["photo"],video:["video"],other:["photo"]}}," to the ",{type:"plural",valueName:"count",options:{one:["groups <a href='","${groupUrl}","'>","${groupName}","</a> and <a href='","${secondGroupUrl}","'>","${secondGroupName}","</a>"],other:["group <a href='","${groupUrl}","'>","${groupName}","</a> and ","${count}"," other groups"]}},"."],NOTIF_GROUP_USER_INVITE:["You've been invited to join the group <a href=\"","${groupUrl}",'">',"${groupName}","</a>."],NOTIF_TAGS:['<a href="',"${personUrl}",'">',"${personName}","</a> tagged your ",{type:"select",valueName:"mediaType",options:{photo:["photo"],video:["video"],other:["photo"]}},"."],NOTIF_TAGS_MULTI:[{type:"plural",valueName:"count",options:{one:['<a href="',"${personUrl}",'">',"${personName}",'</a> and <a href="',"${secondPersonUrl}",'">',"${secondPersonName}","</a>"],other:['<a href="',"${personUrl}",'">',"${personName}","</a> and ","${count}"," others"]}}," tagged your ",{type:"select",valueName:"mediaType",options:{photo:["photo"],video:["video"],other:["photo"]}},"."],NOTIF_GALLERY:["Your ",{type:"select",valueName:"mediaType",options:{photo:["photo"],video:["video"],other:["photo"]}},' was added to the gallery <a href="',"${galleryUrl}",'">',"${galleryName}","</a>."],NOTIF_GALLERY_MULTI:["Your ",{type:"select",valueName:"mediaType",options:{photo:["photo"],video:["video"],other:["photo"]}}," was added to the ",{type:"plural",valueName:"count",options:{one:['galleries <a href="',"${galleryUrl}",'">',"${galleryName}",'</a> and <a href="',"${secondGalleryUrl}",'">',"${secondGalleryName}","</a>"],other:['gallery <a href="',"${galleryUrl}",'">',"${galleryName}","</a> and ","${count}"," other galleries"]}},"."],NOTIF_ADD_PERSON:['<a href="',"${personUrl}",'">',"${personName}","</a> tagged people in your ",{type:"select",valueName:"mediaType",options:{photo:["photo"],video:["video"],other:["photo"]}},"."],NOTIF_ADD_PEOPLE:[{type:"plural",valueName:"count",options:{one:['<a href="',"${personUrl}",'">',"${personName}",'</a> and <a href="',"${secondPersonUrl}",'">',"${secondPersonName}","</a>"],other:['<a href="',"${personUrl}",'">',"${personName}","</a> and ","${count}"," others"]}}," tagged people in your ",{type:"select",valueName:"mediaType",options:{photo:["photo"],video:["video"],other:["photo"]}},"."],NOTIF_ADD_ME:['<a href="',"${ownerUrl}",'">',"${ownerName}","</a> tagged you in a ",{type:"select",valueName:"mediaType",options:{photo:["photo"],video:["video"],other:["photo"]}},"."],NOTIF_NOTES:['<a href="',"${personUrl}",'">',"${personName}","</a> left a note on your ",{type:"select",valueName:"mediaType",options:{photo:["photo"],video:["video"],other:["photo"]}},"."],NOTIF_NOTES_MULTI:[{type:"plural",valueName:"count",options:{one:['<a href="',"${personUrl}",'">',"${personName}",'</a> and <a href="',"${secondPersonUrl}",'">',"${secondPersonName}","</a>"],other:['<a href="',"${personUrl}",'">',"${personName}","</a> and ","${count}"," others"]}}," left notes on your ",{type:"select",valueName:"mediaType",options:{photo:["photo"],video:["video"],other:["photo"]}},"."],NOTIF_NOTES_OTHER:['<a href="',"${personUrl}",'">',"${personName}",'</a> left a note on <a href="',"${ownerUrl}",'">',"${ownerName}","'s</a> photo."],NOTIF_NOTES_OTHER_MULTI:[{type:"plural",valueName:"count",options:{one:['<a href="',"${personUrl}",'">',"${personName}",'</a> and <a href="',"${secondPersonUrl}",'">',"${secondPersonName}",'</a> left notes on <a href="',"${ownerUrl}",'">',"${ownerName}","'s</a> photo."],other:['<a href="',"${personUrl}",'">',"${personName}","</a> and ","${count}",' others left notes on <a href="',"${ownerUrl}",'">',"${ownerName}","'s</a> photo."]}}],NOTIF_VIEW_RECENT_ACTIVITY:["View Recent Activity"],NOTIFICATIONS:["Notifications"],NOTIF_SHARE:['<a href="',"${personUrl}",'">',"${personName}","</a> shared a ",{type:"select",valueName:"mediaType",options:{photo:["photo"],video:["video"],other:["photo"]}}," with you."],FLICKR_MAIL_COUNT_PAREN:["(","${count}",")"],FLICKR_GROUP_DISCUSSION_REPLY:['<a href="',"${personUrl}",'">',"${personName}",'</a> replied to the discussion <a href="',"${replyUrl}",'">',"${objectTitle}",'</a> in the group <a href="',"${groupUrl}",'">',"${groupName}","</a>."],FLICKR_GROUP_DISCUSSION_REPLY_MULTI:[{type:"plural",valueName:"count",options:{one:['<a href="',"${personUrl}",'">',"${personName}",'</a> and <a href="',"${secondPersonUrl}",'">',"${secondPersonName}","</a>"],other:['<a href="',"${personUrl}",'">',"${personName}","</a> and ","${count}"," others"]}},' replied to the discussion <a href="',"${replyUrl}",'">',"${objectTitle}",'</a> in the group <a href="',"${groupUrl}",'">',"${groupName}","</a>."],NOTIF_GROUP_DISCUSSION_REPLY:['<a href="',"${personUrl}",'">',"${personName}",'</a> replied to the discussion <a href="',"${replyUrl}",'">',"${objectTitle}",'</a> in the group <a href="',"${groupUrl}",'">',"${groupName}","</a>."],NOTIF_GROUP_DISCUSSION_REPLY_MULTI:[{type:"plural",valueName:"count",options:{one:['<a href="',"${personUrl}",'">',"${personName}",'</a> and <a href="',"${secondPersonUrl}",'">',"${secondPersonName}","</a>"],other:['<a href="',"${personUrl}",'">',"${personName}","</a> and ","${count}"," others"]}},' replied to the discussion <a href="',"${replyUrl}",'">',"${objectTitle}",'</a> in the group <a href="',"${groupUrl}",'">',"${groupName}","</a>."],NOTIF_ONBOARDING_TITLE:["NEW — Notification Center"],NOTIF_ONBOARDING_DESCRIPTION:["Here, you'll find notifications of your recent activity on Flickr. This includes easy access to <a href=\"/mail\">FlickrMail</a>. We think you'll enjoy what we've built so far."],NOTIF_GALLERY_COMMENT:['<a href="',"${personUrl}",'">',"${personName}",'</a> commented on your gallery <a href="',"${objectUrl}",'">',"${objectName}","</a>."],NOTIF_GALLERY_COMMENT_MULTI:[{type:"plural",valueName:"count",options:{one:['<a href="',"${personUrl}",'">',"${personName}",'</a> and <a href="',"${secondPersonUrl}",'">',"${secondPersonName}",'</a> commented on your gallery <a href="',"${objectUrl}",'">',"${objectName}","</a>."],other:['<a href="',"${personUrl}",'">',"${personName}","</a> and ","${count}",' others commented on your gallery <a href="',"${objectUrl}",'">',"${objectName}","</a>."]}}],NOTIF_FRIEND_JOIN:['Your friend <a href="',"${personUrl}",'">',"${personName}","</a> joined Flickr!"],NOTIF_NEW_GROUP_DISCUSSION:['<a href="',"${personUrl}",'">',"${personName}",'</a> created the discussion <a href="',"${discussionUrl}",'">',"${discussionName}",'</a> in the group <a href="',"${groupUrl}",'">',"${groupName}","</a>."],NOTIF_FLICKRMAIL:['<a href="',"${personUrl}",'">',"${personName}",'</a> sent you a message: <a href="',"${mailUrl}",'">“',"${mailTitle}","”</a>"],NOTIF_TURN_OFF_OBJECT:["Turn off notifications for this post"],NOTIF_TURN_ON_OBJECT:["Turn on notifications for this post"],NOTIF_HIDE_THIS:["Hide this notification"],NOTIF_NOTHING_HERE:["When you have new notifications, they’ll appear here."],NOTIF_OFF_FOR_POST:["Notifications for this post are off."],NOTIF_UNDO:["Undo"],NOTIF_TESTIMONIAL:['<a href="',"${personUrl}",'">',"${personName}",'</a> wrote you a <a href="',"${testimonialUrl}",'">testimonial</a>.'],GROUP_INVITE_ACCEPT:["Accept invite"],GROUP_INVITE_NO_THANKS:["No thanks"],GROUP_INVITE_ACCEPTED:["Invite accepted"],GROUP_INVITE_DECLINED:["Invite declined"],FLICKRMAIL_HAS_MOVED:['FlickrMail has moved to your settings menu! <a class="open-account-droparound-button" role="button" >Open menu</a>']})},"@VERSION@",{requires:["intl"]});YUI.add("flickr-galleries-comments-addComment-creator",function(e,t){"use strict";e.namespace("ModelCreators")["flickr-galleries-comments-addComment"]={run:function(n,r){var o=this;return e.Promise.all([r.callAPI("flickr.galleries.comments.addComment",this._processParams(n)),r.getModelRegistry("person-models"),r.getModelRegistry("gallery-comment-models"),r.getModel("gallery-info-models",n.galleryId)]).then(function(e){return o._processResponse(e,n,r)},e.FetcherErrorLogger(t))},_processParams:function(e){return{gallery_id:e.galleryId,comment_text:e.commentText,user_id:e.galleryOwnerId,extras:"full_response, expand_bbml"}},_processResponse:function(e,t,n){var r,o,m,a=e[0],l=(e[1],e[2]),s=e[3],c=a.comment;return c.secureComment&&(o="string"==typeof c.secureComment?c.secureComment:c.secureComment.content),o||(o=c.content||c.comment),c.rawComment&&(m="string"==typeof c.rawComment?c.rawComment:c.rawComment.content),m||(m=c.content||c.comment),n.getModel("person-models",t.authorId).then(function(e){return r=l.addOrUpdate({id:c.commentId,galleryId:c.galleryId,galleryOwnerId:c.galleryOwnerId,author:e,authorUsername:c.authorname,authorId:c.author,date:c.dateCreate,permalink:c.permalink,content:c.content,contentSecure:o,contentRaw:m}),s.getValue("comments").unshift(r),s.getValue("comments").totalItems++,s.setValue("commentCount",s.getValue("commentCount")+1),r})}}},"@VERSION@",{requires:["flickr-promise"],optional:[]});YUI.add("flickr-galleries-comments-deleteComment-deletor",function(e,o){"use strict";e.namespace("ModelDeletors")["flickr-galleries-comments-deleteComment"]={run:function(t,r){var l=this;return e.Promise.all([r.callAPI("flickr.galleries.comments.deleteComment",this._processParams(t)),r.getModel("gallery-info-models",t.galleryId)]).then(function(e){l._processResponse(e,t,r)},e.FetcherErrorLogger(o))},_processParams:function(e){return{comment_id:e.commentId,gallery_id:e.galleryId,owner_id:e.ownerId}},_processResponse:function(e,o,t){e[0];var r=e[1];r.getValue("comments").removeFromList(o.commentId),r.getValue("comments").totalItems--,r.setValue("commentCount",r.getValue("commentCount")-1)}}},"@VERSION@",{requires:["flickr-promise"],optional:[]});YUI.add("flickr-galleries-comments-editComment-updater",function(e,t){"use strict";e.namespace("ModelUpdaters")["flickr-galleries-comments-editComment"]={run:function(n,o){var r=this;return e.Promise.all([o.callAPI("flickr.galleries.comments.editComment",this._processParams(n)),o.getModel("gallery-comment-models",n.commentId)]).then(function(e){return r._processResponse(e,n,o)},e.FetcherErrorLogger(t))},_processParams:function(e){return{comment_id:e.commentId,gallery_id:e.galleryId,owner_id:e.ownerId,comment_text:e.content,extras:"full_response, expand_bbml"}},_processResponse:function(e,t,n){var o,r,m=e[0].comment||{content:""},c=e[1];return m.secureComment&&(o="string"==typeof m.secureComment?m.secureComment:m.secureComment.content),o||(o=m.content||m.comment),m.rawComment&&(r="string"==typeof m.rawComment?m.rawComment:m.rawComment.content),r||(r=m.content||m.comment),c.setValues({content:t.content,contentSecure:o,contentRaw:r}),c}}},"@VERSION@",{requires:["flickr-promise"],optional:[]});YUI.add("gallery-comment-models",function(e){function t(e){t.superclass.constructor.call(this,e)}e.Models[this.name]=t,e.extend(t,e.FlickrModelRegistry,{name:this.name,remote:{create:function(t){return e.ModelCreators["flickr-galleries-comments-addComment"].run(t,this.appContext)},delete:function(t,r){return e.ModelDeletors["flickr-galleries-comments-deleteComment"].run(t,r)},update:function(t,r){return e.ModelUpdaters["flickr-galleries-comments-editComment"].run({commentId:t.commentId,galleryId:t.galleryId,ownerId:t.ownerId,content:t.content},r)}},updateRemote:function(e,t){return this.remote.update({commentId:e,galleryId:this.getValue(e,"galleryId"),ownerId:this.getValue(e,"galleryOwnerId"),content:t},this.appContext)},deleteRemote:function(e){return this.remote.delete({commentId:e,galleryId:this.getValue(e,"galleryId"),ownerId:this.getValue(e,"galleryOwnerId")},this.appContext)},attributes:{id:{},galleryId:{},galleryOwnerId:{},author:{isModel:!0},authorUsername:{},authorId:{},date:{},timeago:{readOnly:!0,derivedBy:["date"],getter:function(t,r){return e.moment.unix(this.getValue(r,"date"))}},permalink:{validator:function(t){return e.AttributeHelpers.validateString(t)},setter:function(t){return e.AttributeHelpers.coerceString(t)}},content:{validator:function(t){return e.AttributeHelpers.validateString(t)},setter:function(t){return e.AttributeHelpers.coerceString(t)}},contentSecure:{validator:function(t){return e.AttributeHelpers.validateString(t)},setter:function(t){return e.AttributeHelpers.coerceString(t)}},contentRaw:{validator:function(t){return e.AttributeHelpers.validateString(t)},setter:function(t){return e.AttributeHelpers.coerceString(t)}}}})},"@VERSION@",{requires:["flickr-model-registry","moment","flickr-galleries-comments-addComment-creator","flickr-galleries-comments-deleteComment-deletor","flickr-galleries-comments-editComment-updater"]});